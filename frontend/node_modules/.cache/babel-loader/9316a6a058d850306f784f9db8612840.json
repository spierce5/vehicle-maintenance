{"ast":null,"code":"import _objectSpread from\"C:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{Link,withRouter}from\"react-router-dom\";import AppNavbar from\"./AppNavbar\";import{TextField,Button,Container}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Options=/*#__PURE__*/function(_Component){_inherits(Options,_Component);var _super=_createSuper(Options);function Options(props){var _this;_classCallCheck(this,Options);_this=_super.call(this,props);_this.state={item:{}};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Options,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _this2=this;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetch(\"/api/time-units\").then(function(response){return response.json();}).then(function(data){return _this2.setState({timeUnits:data});});fetch(\"/api/task-types\").then(function(response){return response.json();}).then(function(data){return _this2.setState({taskTypes:data});});case 2:case\"end\":return _context.stop();}}},_callee);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"handleChange\",value:function handleChange(event){var target=event.target;var value=target.value;var name=target.name;var item=_objectSpread({},this.state.item);item[name]=value;this.setState({item:item});}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var item;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:/* TODO:  Rewrite for task types and time units */event.preventDefault();item=this.state.item;_context2.next=4;return fetch(\"/api/tasks\"+(item.taskId?\"/\"+item.taskId:\"\"),{method:item.taskId?\"PUT\":\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(item)});case 4:this.props.history.push(\"/tasks\");case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){var item=this.state.item;var title=/*#__PURE__*/_jsx(\"h2\",{children:\"Options\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",children:[title,/*#__PURE__*/_jsx(\"p\",{children:\"This page is currently under construction.\"})]})]});}}]);return Options;}(Component);export default withRouter(Options);","map":{"version":3,"names":["React","Component","Link","withRouter","AppNavbar","TextField","Button","Container","Options","props","state","item","handleChange","bind","handleSubmit","fetch","then","response","json","data","setState","timeUnits","taskTypes","event","target","value","name","preventDefault","taskId","method","headers","Accept","body","JSON","stringify","history","push","title"],"sources":["C:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/src/Options.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AppNavbar from \"./AppNavbar\";\r\nimport { TextField, Button, Container } from \"@mui/material\";\r\n\r\nclass Options extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      item: {},\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    fetch(\"/api/time-units\")\r\n      .then((response) => response.json())\r\n      .then((data) => this.setState({ timeUnits: data }));\r\n    fetch(\"/api/task-types\")\r\n      .then((response) => response.json())\r\n      .then((data) => this.setState({ taskTypes: data }));\r\n  }\r\n\r\n  handleChange(event) {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    let item = { ...this.state.item };\r\n    item[name] = value;\r\n    this.setState({ item });\r\n  }\r\n\r\n  async handleSubmit(event) {\r\n    /* TODO:  Rewrite for task types and time units */\r\n    event.preventDefault();\r\n    const { item } = this.state;\r\n    await fetch(\"/api/tasks\" + (item.taskId ? \"/\" + item.taskId : \"\"), {\r\n      method: item.taskId ? \"PUT\" : \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(item),\r\n    });\r\n    this.props.history.push(\"/tasks\");\r\n  }\r\n\r\n  render() {\r\n    const { item } = this.state;\r\n    const title = <h2>Options</h2>;\r\n\r\n    return (\r\n      <div>\r\n        <AppNavbar />\r\n        <Container maxWidth=\"md\">\r\n          {title}\r\n          <p>This page is currently under construction.</p>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(Options);\r\n"],"mappings":"+xCAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,UAAP,KAAsB,aAAtB,CACA,OAASC,SAAT,CAAoBC,MAApB,CAA4BC,SAA5B,KAA6C,eAA7C,C,2FAEMC,Q,kGACJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAAb,CAGA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CANiB,aAOlB,C,iJAED,qJACEE,KAAK,CAAC,iBAAD,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,QAAcA,SAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,QAAU,OAAI,CAACC,QAAL,CAAc,CAAEC,SAAS,CAAEF,IAAb,CAAd,CAAV,EAFR,EAGAJ,KAAK,CAAC,iBAAD,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,QAAcA,SAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,QAAU,OAAI,CAACC,QAAL,CAAc,CAAEE,SAAS,CAAEH,IAAb,CAAd,CAAV,EAFR,EAJF,sD,yIASA,sBAAaI,KAAb,CAAoB,CAClB,GAAMC,OAAM,CAAGD,KAAK,CAACC,MAArB,CACA,GAAMC,MAAK,CAAGD,MAAM,CAACC,KAArB,CACA,GAAMC,KAAI,CAAGF,MAAM,CAACE,IAApB,CACA,GAAIf,KAAI,kBAAQ,KAAKD,KAAL,CAAWC,IAAnB,CAAR,CACAA,IAAI,CAACe,IAAD,CAAJ,CAAaD,KAAb,CACA,KAAKL,QAAL,CAAc,CAAET,IAAI,CAAJA,IAAF,CAAd,EACD,C,mHAED,kBAAmBY,KAAnB,iIACE,kDACAA,KAAK,CAACI,cAAN,GACQhB,IAHV,CAGmB,KAAKD,KAHxB,CAGUC,IAHV,wBAIQI,MAAK,CAAC,cAAgBJ,IAAI,CAACiB,MAAL,CAAc,IAAMjB,IAAI,CAACiB,MAAzB,CAAkC,EAAlD,CAAD,CAAwD,CACjEC,MAAM,CAAElB,IAAI,CAACiB,MAAL,CAAc,KAAd,CAAsB,MADmC,CAEjEE,OAAO,CAAE,CACPC,MAAM,CAAE,kBADD,CAEP,eAAgB,kBAFT,CAFwD,CAMjEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAevB,IAAf,CAN2D,CAAxD,CAJb,QAYE,KAAKF,KAAL,CAAW0B,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EAZF,6D,sHAeA,iBAAS,CACP,GAAQzB,KAAR,CAAiB,KAAKD,KAAtB,CAAQC,IAAR,CACA,GAAM0B,MAAK,cAAG,+BAAd,CAEA,mBACE,oCACE,KAAC,SAAD,IADF,cAEE,MAAC,SAAD,EAAW,QAAQ,CAAC,IAApB,WACGA,KADH,cAEE,iEAFF,GAFF,GADF,CASD,C,qBAxDmBpC,S,EA0DtB,cAAeE,WAAU,CAACK,OAAD,CAAzB"},"metadata":{},"sourceType":"module"}