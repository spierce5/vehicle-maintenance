{"ast":null,"code":"import _regeneratorRuntime from\"c:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"c:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"c:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"c:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"c:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"c:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"c:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"c:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Stack,ButtonGroup,Container,TableContainer,Table,TableHead,TableRow,TableCell,TableBody,IconButton,Dialog,DialogTitle,DialogContentText,DialogContent,DialogActions,Button}from'@mui/material';import ModeEditIcon from'@mui/icons-material/ModeEdit';import DeleteForeverIcon from'@mui/icons-material/DeleteForever';import PersonAddAlt1Icon from'@mui/icons-material/PersonAddAlt1';import AppNavbar from'./AppNavbar';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VehicleList=/*#__PURE__*/function(_Component){_inherits(VehicleList,_Component);var _super=_createSuper(VehicleList);function VehicleList(props){var _this;_classCallCheck(this,VehicleList);_this=_super.call(this,props);_this.state={vehicles:[],deleteDialogOpen:false,vehicleToDelete:null};_this.remove=_this.remove.bind(_assertThisInitialized(_this));_this.handleDialogClose=_this.handleDialogClose.bind(_assertThisInitialized(_this));_this.handleDelete=_this.handleDelete.bind(_assertThisInitialized(_this));return _this;}_createClass(VehicleList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/vehicles').then(function(response){return response.json();}).then(function(data){return _this2.setState({vehicles:data});});}},{key:\"remove\",value:function(){var _remove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var _this3=this;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/vehicles/\".concat(id),{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(){var updatedVehicles=_toConsumableArray(_this3.state.vehicles).filter(function(i){return i.vehicleId!==id;});_this3.setState({vehicles:updatedVehicles});});case 2:case\"end\":return _context.stop();}}},_callee);}));function remove(_x){return _remove.apply(this,arguments);}return remove;}()},{key:\"handleDialogClose\",value:function handleDialogClose(choice){if(choice==='DELETE'){this.remove(this.state.vehicleToDelete.id);}this.setState({deleteDialogOpen:false});}},{key:\"handleDelete\",value:function handleDelete(vehicleId){this.setState({vehicleToDelete:vehicleId,deleteDialogOpen:true});console.log(this.state);}},{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,vehicles=_this$state.vehicles,isLoading=_this$state.isLoading;if(isLoading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}var vehicleList=vehicles.map(function(vehicle){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{whiteSpace:'nowrap'},children:vehicle.vehicleId}),/*#__PURE__*/_jsx(TableCell,{children:vehicle.year}),/*#__PURE__*/_jsx(TableCell,{children:vehicle.make}),/*#__PURE__*/_jsx(TableCell,{children:vehicle.model}),/*#__PURE__*/_jsx(TableCell,{children:vehicle.notes}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(IconButton,{color:\"success\",component:Link,to:\"/vehicles/\"+vehicle.vehicleId,children:/*#__PURE__*/_jsx(ModeEditIcon,{})}),/*#__PURE__*/_jsx(IconButton,{color:\"error\",onClick:function onClick(){return _this4.handleDelete(vehicle);},children:/*#__PURE__*/_jsx(DeleteForeverIcon,{})})]})})]},vehicle.vehicleId);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Vehicles\"}),/*#__PURE__*/_jsx(IconButton,{color:\"success\",component:Link,to:\"/vehicles/new\",children:/*#__PURE__*/_jsx(PersonAddAlt1Icon,{})})]}),/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{width:\"10%\",children:\"Vehicle ID\"}),/*#__PURE__*/_jsx(TableCell,{width:\"30%\",children:\"Description\"}),/*#__PURE__*/_jsx(TableCell,{width:\"10%\",children:\"Year\"}),/*#__PURE__*/_jsx(TableCell,{width:\"10%\",children:\"Make\"}),/*#__PURE__*/_jsx(TableCell,{width:\"20%\",children:\"Model\"}),/*#__PURE__*/_jsx(TableCell,{width:\"20%\",children:\"Notes\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:vehicleList})]})})]}),/*#__PURE__*/_jsxs(Dialog,{open:this.state.deleteDialogOpen,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Are you sure you want to delete this vehicle?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{id:\"alert-dialog-description\",children:this.state.deleteDialogOpen?JSON.stringify(this.state.vehicleToDelete):''})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this4.handleDialogClose('CANCEL');},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this4.handleDialogClose('DELETE');},autoFocus:true,children:\"Delete\"})]})]})]});}}]);return VehicleList;}(Component);export default VehicleList;","map":{"version":3,"names":["React","Component","Stack","ButtonGroup","Container","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","IconButton","Dialog","DialogTitle","DialogContentText","DialogContent","DialogActions","Button","ModeEditIcon","DeleteForeverIcon","PersonAddAlt1Icon","AppNavbar","Link","VehicleList","props","state","vehicles","deleteDialogOpen","vehicleToDelete","remove","bind","handleDialogClose","handleDelete","fetch","then","response","json","data","setState","id","method","headers","updatedVehicles","filter","i","vehicleId","choice","console","log","isLoading","vehicleList","map","vehicle","whiteSpace","year","make","model","notes","JSON","stringify"],"sources":["c:/Users/Sam/Desktop/Current_Scripts/Web-Design/vehicle_maintenance/frontend/src/VehicleList.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Stack, ButtonGroup, Container, TableContainer, \r\n        Table, TableHead, TableRow, TableCell, TableBody, \r\n        IconButton, Dialog, DialogTitle, DialogContentText,\r\n        DialogContent, DialogActions, Button } from '@mui/material';\r\nimport ModeEditIcon from '@mui/icons-material/ModeEdit';\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\r\nimport PersonAddAlt1Icon from '@mui/icons-material/PersonAddAlt1';\r\nimport AppNavbar from './AppNavbar';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass VehicleList extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n                vehicles: [],\r\n                deleteDialogOpen: false,\r\n                vehicleToDelete: null\r\n            };\r\n        this.remove = this.remove.bind(this);\r\n        this.handleDialogClose = this.handleDialogClose.bind(this);\r\n        this.handleDelete = this.handleDelete.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/vehicles')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({vehicles: data}));\r\n    }\r\n\r\n    async remove(id) {\r\n        await fetch(`/vehicles/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(() => {\r\n            let updatedVehicles = [...this.state.vehicles].filter(i => i.vehicleId !== id);\r\n            this.setState({vehicles: updatedVehicles});\r\n        });\r\n    }\r\n\r\n    handleDialogClose(choice) {\r\n        if(choice === 'DELETE'){\r\n            this.remove(this.state.vehicleToDelete.id)\r\n        }\r\n        this.setState({\r\n            deleteDialogOpen: false\r\n        });   \r\n    }\r\n\r\n    handleDelete(vehicleId) {\r\n        this.setState({\r\n            vehicleToDelete: vehicleId,\r\n            deleteDialogOpen: true\r\n        })\r\n        console.log(this.state);\r\n    }\r\n    \r\n    render() {\r\n        const {vehicles, isLoading} = this.state;\r\n    \r\n        if (isLoading) {\r\n            return <p>Loading...</p>;\r\n        }\r\n    \r\n        const vehicleList = vehicles.map(vehicle => {\r\n            return (\r\n                <TableRow key={vehicle.vehicleId}>\r\n                    <TableCell style={{whiteSpace: 'nowrap'}}>{vehicle.vehicleId}</TableCell>\r\n                    <TableCell>{vehicle.year}</TableCell>\r\n                    <TableCell>{vehicle.make}</TableCell>\r\n                    <TableCell>{vehicle.model}</TableCell>\r\n                    <TableCell>{vehicle.notes}</TableCell>\r\n                    <TableCell>\r\n                        <ButtonGroup>\r\n                            <IconButton color=\"success\" component={Link} to={\"/vehicles/\" + vehicle.vehicleId}>\r\n                                <ModeEditIcon/>\r\n                            </IconButton>\r\n                            <IconButton color=\"error\" onClick={() => this.handleDelete(vehicle)}>\r\n                                <DeleteForeverIcon/>\r\n                            </IconButton>\r\n                        </ButtonGroup>\r\n                    </TableCell>\r\n                </TableRow>\r\n            )\r\n        });\r\n    \r\n        return (\r\n            <div>\r\n                <AppNavbar/>\r\n                <Container fluid>\r\n                    <Stack direction=\"row\">\r\n                        <h3>Vehicles</h3>\r\n                        <IconButton color=\"success\" component={Link} to=\"/vehicles/new\">\r\n                            <PersonAddAlt1Icon/>\r\n                        </IconButton>\r\n                    </Stack>\r\n                    <TableContainer>\r\n                        <Table className=\"mt-4\">\r\n                            <TableHead>\r\n                            <TableRow>\r\n                                <TableCell width=\"10%\">Vehicle ID</TableCell>\r\n                                <TableCell width=\"30%\">Description</TableCell>\r\n                                <TableCell width=\"10%\">Year</TableCell>\r\n                                <TableCell width=\"10%\">Make</TableCell>\r\n                                <TableCell width=\"20%\">Model</TableCell>\r\n                                <TableCell width=\"20%\">Notes</TableCell>\r\n                            </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {vehicleList}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                </Container>\r\n                <Dialog\r\n                    open={this.state.deleteDialogOpen}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-title\">\r\n                    {\"Are you sure you want to delete this vehicle?\"}\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {this.state.deleteDialogOpen ? JSON.stringify(this.state.vehicleToDelete) : ''}\r\n                    </DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                    <Button onClick={() => this.handleDialogClose('CANCEL')}>Cancel</Button>\r\n                    <Button onClick={() => this.handleDialogClose('DELETE')} autoFocus>\r\n                        Delete\r\n                    </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default VehicleList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}